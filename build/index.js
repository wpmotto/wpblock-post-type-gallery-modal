(()=>{"use strict";var e,t={101:()=>{const e=window.wp.blocks,t=window.wp.element,l=window.wp.i18n,o=window.wp.blockEditor,a=window.wp.components,r=window.wp.data;(0,e.registerBlockType)("create-block/post-type-gallery-modal",{edit:function(e){var l,n,i,s,u,d,c,p;let{setAttributes:m,attributes:v}=e;const g=(0,o.useBlockProps)(),[h,y]=(0,t.useState)(null!==(l=v.postType)&&void 0!==l?l:"post"),[b,w]=(0,t.useState)(null!==(n=v.taxonomy)&&void 0!==n?n:""),[f,S]=(0,t.useState)(null!==(i=v.terms)&&void 0!==i?i:[]),[E,k]=(0,t.useState)(null!==(s=v.postsPerPage)&&void 0!==s?s:12),[C,_]=(0,t.useState)(null!==(u=v.order)&&void 0!==u?u:"asc"),[O,x]=(0,t.useState)(null!==(d=v.orderBy)&&void 0!==d?d:"title"),[T]=(0,t.useState)(new Set([])),[P,B]=(0,t.useState)(null!==(c=v.thumbnailSize)&&void 0!==c?c:"thumbnail"),z=null===(p=(0,r.useSelect)((e=>e("core").getPostTypes({per_page:-1})),[]))||void 0===p?void 0:p.filter((e=>e.viewable)).map((e=>({label:e.labels.name,value:e.slug}))),N=(0,r.useSelect)((e=>{var t;return null===(t=e("core").getEntityRecords("postType",h,{per_page:E,[b]:f.map((e=>e.id))}))||void 0===t?void 0:t.map((t=>{var l;if(!t.featured_media)return t;const o=e("core").getMedia(t.featured_media);return Object.keys(null!==(l=null==o?void 0:o.media_details.sizes)&&void 0!==l?l:{}).forEach((e=>T.add(e))),{...t,thumbnail:o}}))}),[h,E,f]),j=(0,r.useSelect)((e=>e("core").getEntityRecords("taxonomy",b)),[b]),I=(0,r.useSelect)((e=>{var t;const l=null===(t=e("core").getTaxonomies({type:h}))||void 0===t?void 0:t.map((e=>({label:e.name,value:e.slug})));if(l)return[{label:"No taxonomy",value:null},...l]}),[h]);return(0,t.createElement)("div",g,(0,t.createElement)(o.InspectorControls,{key:"setting"},(0,t.createElement)(a.PanelBody,{title:"Settings"},(0,t.createElement)(a.SelectControl,{label:"Post Type",options:z,value:h,onChange:e=>{y(e),m({postType:e})}}),(null==I?void 0:I.length)>0&&(0,t.createElement)(a.SelectControl,{label:"Taxonomies",options:I,value:b,onChange:e=>{w(e),m({taxonomy:e})}}),j&&j.map((e=>(0,t.createElement)(a.CheckboxControl,{key:e.slug,label:e.name,checked:f.filter((t=>t.id===e.id)).length>0,onChange:t=>((e,t)=>{let l=f.filter((l=>l.id!==t.id||e));f.map((e=>e.id)).includes(t.id)||(l=[...l,t]),S(l),m({terms:l})})(t,e)}))),(0,t.createElement)(a.QueryControls,{order:C,orderBy:O,numberOfItems:E,onOrderChange:e=>{_(e),m({order:e})},onOrderByChange:e=>{x(e),m({orderBy:e})},onNumberOfItemsChange:e=>{k(e),m({postsPerPage:e})}}),T.size>0&&(0,t.createElement)(a.SelectControl,{label:"Thumbnail Size",options:[...T].map((e=>({value:e,label:e}))),value:P,onChange:e=>{B(e),m({thumbnailSize:e})}}))),N&&N.length>0?(0,t.createElement)("div",{className:"wp-ptgm-container"},N.map((e=>(0,t.createElement)("div",{key:e.id},e.thumbnail&&(0,t.createElement)("img",{className:"wp-ptgm-img",src:e.thumbnail.media_details.sizes[P].source_url,alt:e.thumbnail.alt_text}),(0,t.createElement)("h3",{className:"wp-ptgm-title"}," ",e.title.rendered))))):(0,t.createElement)("p",null,"No records to show."))},save:function(){return(0,t.createElement)("p",o.useBlockProps.save(),(0,l.__)("Post Type Gallery Modal â€“ hello from the saved content!","post-type-gallery-modal"))}})}},l={};function o(e){var a=l[e];if(void 0!==a)return a.exports;var r=l[e]={exports:{}};return t[e](r,r.exports,o),r.exports}o.m=t,e=[],o.O=(t,l,a,r)=>{if(!l){var n=1/0;for(d=0;d<e.length;d++){for(var[l,a,r]=e[d],i=!0,s=0;s<l.length;s++)(!1&r||n>=r)&&Object.keys(o.O).every((e=>o.O[e](l[s])))?l.splice(s--,1):(i=!1,r<n&&(n=r));if(i){e.splice(d--,1);var u=a();void 0!==u&&(t=u)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[l,a,r]},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={826:0,431:0};o.O.j=t=>0===e[t];var t=(t,l)=>{var a,r,[n,i,s]=l,u=0;if(n.some((t=>0!==e[t]))){for(a in i)o.o(i,a)&&(o.m[a]=i[a]);if(s)var d=s(o)}for(t&&t(l);u<n.length;u++)r=n[u],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(d)},l=globalThis.webpackChunkpost_type_gallery_modal=globalThis.webpackChunkpost_type_gallery_modal||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})();var a=o.O(void 0,[431],(()=>o(101)));a=o.O(a)})();