!function(){"use strict";var e,t={101:function(){var e=window.wp.blocks,t=window.wp.element,n=window.wp.i18n,o=window.wp.blockEditor,l=window.wp.components,r=window.wp.data;(0,e.registerBlockType)("create-block/post-type-gallery-modal",{edit:function(e){var n,a,i,s,u;let{setAttributes:c,attributes:p}=e;const m=(0,o.useBlockProps)(),[d,v]=(0,t.useState)(null!==(n=p.postType)&&void 0!==n?n:"post"),[f,g]=(0,t.useState)(null!==(a=p.taxonomy)&&void 0!==a?a:""),[y,b]=(0,t.useState)(null!==(i=p.terms)&&void 0!==i?i:[]),[h,w]=(0,t.useState)(null!==(s=p.postsPerPage)&&void 0!==s?s:12),E=null===(u=(0,r.useSelect)((e=>e("core").getPostTypes({per_page:-1})),[]))||void 0===u?void 0:u.filter((e=>e.viewable)).map((e=>({label:e.labels.name,value:e.slug}))),k=(0,r.useSelect)((e=>{var t;return null===(t=e("core").getEntityRecords("postType",d,{per_page:h,[f]:y.map((e=>e.id))}))||void 0===t?void 0:t.map((t=>{if(!t.featured_media)return t;const n=e("core").getMedia(t.featured_media);return{...t,thumbnail:n}}))}),[d,h,y]),_=(0,r.useSelect)((e=>e("core").getEntityRecords("taxonomy",f)),[f]),x=(0,r.useSelect)((e=>{var t;const n=null===(t=e("core").getTaxonomies({type:d}))||void 0===t?void 0:t.map((e=>({label:e.name,value:e.slug})));if(n)return[{label:"No taxonomy",value:null},...n]}),[d]);return(0,t.createElement)("div",m,(0,t.createElement)(o.InspectorControls,{key:"setting"},(0,t.createElement)(l.PanelBody,{title:"Settings"},(0,t.createElement)(l.SelectControl,{label:"Post Type",options:E,value:d,onChange:e=>{v(e),c({postType:e})}}),(null==x?void 0:x.length)>0&&(0,t.createElement)(l.SelectControl,{label:"Taxonomies",options:x,value:f,onChange:e=>{g(e),c({taxonomy:e})}}),_&&_.map((e=>(0,t.createElement)(l.CheckboxControl,{key:e.slug,label:e.name,checked:y.filter((t=>t.id===e.id)).length>0,onChange:t=>((e,t)=>{let n=y.filter((n=>n.id!==t.id||e));y.map((e=>e.id)).includes(t.id)||(n=[...n,t]),b(n),c({terms:n})})(t,e)}))),(0,t.createElement)(l.QueryControls,{numberOfItems:h,onNumberOfItemsChange:e=>{w(e),c({postsPerPage:e})}}))),k&&k.length>0?(0,t.createElement)("div",{className:"wp-ptgm-container"},k.map((e=>(0,t.createElement)("div",{key:e.id},e.thumbnail&&(0,t.createElement)("img",{className:"wp-ptgm-img",src:e.thumbnail.media_details.sizes.thumbnail.source_url,alt:e.thumbnail.alt_text}),(0,t.createElement)("h3",{className:"wp-ptgm-title"},e.title.rendered))))):(0,t.createElement)("p",null,"No records to show."))},save:function(){return(0,t.createElement)("p",o.useBlockProps.save(),(0,n.__)("Post Type Gallery Modal â€“ hello from the saved content!","post-type-gallery-modal"))}})}},n={};function o(e){var l=n[e];if(void 0!==l)return l.exports;var r=n[e]={exports:{}};return t[e](r,r.exports,o),r.exports}o.m=t,e=[],o.O=function(t,n,l,r){if(!n){var a=1/0;for(c=0;c<e.length;c++){n=e[c][0],l=e[c][1],r=e[c][2];for(var i=!0,s=0;s<n.length;s++)(!1&r||a>=r)&&Object.keys(o.O).every((function(e){return o.O[e](n[s])}))?n.splice(s--,1):(i=!1,r<a&&(a=r));if(i){e.splice(c--,1);var u=l();void 0!==u&&(t=u)}}return t}r=r||0;for(var c=e.length;c>0&&e[c-1][2]>r;c--)e[c]=e[c-1];e[c]=[n,l,r]},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={826:0,431:0};o.O.j=function(t){return 0===e[t]};var t=function(t,n){var l,r,a=n[0],i=n[1],s=n[2],u=0;if(a.some((function(t){return 0!==e[t]}))){for(l in i)o.o(i,l)&&(o.m[l]=i[l]);if(s)var c=s(o)}for(t&&t(n);u<a.length;u++)r=a[u],o.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return o.O(c)},n=self.webpackChunkpost_type_gallery_modal=self.webpackChunkpost_type_gallery_modal||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var l=o.O(void 0,[431],(function(){return o(101)}));l=o.O(l)}();